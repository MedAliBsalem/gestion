<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
  {% endblock %}
</head>

<body>
    <main class="relative h-screen overflow-hidden bg-gray-100">
        <div class="flex items-start justify-between">
            <div class="relative hidden h-screen shadow-lg lg:block w-80">
                <div class="h-full bg-white ">
                    <div class="flex items-center justify-start pt-6 ml-8">
                                        <div class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start">
                    <div class="flex flex-shrink-0 items-center">
                        <img class="block h-12 w-auto lg:hidden" src="{{ asset('images/logo.svg') }}" alt="Your Company">
                         
                        <img class="hidden h-12 w-auto lg:block" src="{{ asset('images/logo.svg') }}" alt="Your Company">
                    </div>
                    </div>
                    </div>
                    <nav class="mt-6">
                        <div>
                            <a class="flex items-center justify-start w-full p-2 pl-6 my-2 text-sky-950 transition-colors duration-200 border-l-4 border-sky-500 hover:bg-sky-100"
                                href="{{ path('sec_dashboard') }}">
                                <span class="text-left">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"
                                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Iconly/Light/Category" stroke="#000000" stroke-width="1.5" fill="none"
                                            fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
                                            <g id="Category" transform="translate(2.999141, 3.000000)" stroke="#000000"
                                                stroke-width="1.5">
                                                <path
                                                    d="M0.000858865205,3.5 C0.000858865205,0.874787053 0.0289681101,0 3.50085887,0 C6.9727494,0 7.00085887,0.874787053 7.00085887,3.5 C7.00085887,6.12521295 7.01193168,7 3.50085887,7 C-0.010214169,7 0.000858865205,6.12521295 0.000858865205,3.5 Z"
                                                    id="Stroke-1"></path>
                                                <path
                                                    d="M11.0008589,3.5 C11.0008589,0.874787053 11.0289681,0 14.5008589,0 C17.9727494,0 18.0008589,0.874787053 18.0008589,3.5 C18.0008589,6.12521295 18.0119317,7 14.5008589,7 C10.9897858,7 11.0008589,6.12521295 11.0008589,3.5 Z"
                                                    id="Stroke-3"></path>
                                                <path
                                                    d="M0.000858865205,14.5 C0.000858865205,11.8747871 0.0289681101,11 3.50085887,11 C6.9727494,11 7.00085887,11.8747871 7.00085887,14.5 C7.00085887,17.1252129 7.01193168,18 3.50085887,18 C-0.010214169,18 0.000858865205,17.1252129 0.000858865205,14.5 Z"
                                                    id="Stroke-5"></path>
                                                <path
                                                    d="M11.0008589,14.5 C11.0008589,11.8747871 11.0289681,11 14.5008589,11 C17.9727494,11 18.0008589,11.8747871 18.0008589,14.5 C18.0008589,17.1252129 18.0119317,18 14.5008589,18 C10.9897858,18 11.0008589,17.1252129 11.0008589,14.5 Z"
                                                    id="Stroke-7"></path>
                                            </g>
                                        </g>
                                    </svg>
                                </span>
                                <span class="mx-4 text-sm font-normal">
                                    Tableau de bord
                                </span>
                            </a>
                            <a class="flex items-center justify-start w-full p-2 pl-6 my-2 text-gray-400 transition-colors duration-200 border-l-4 border-transparent hover:bg-sky-100"
                                href="{{ path('listRdv') }}">
                                <span class="text-left">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"
                                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Iconly/Light/Time-Circle" stroke="#000000" stroke-width="1.5" fill="none"
                                            fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
                                            <g id="Time-Circle" transform="translate(2.000000, 2.000000)"
                                                stroke="#000000" stroke-width="1.5">
                                                <path
                                                    d="M19.2498,10.0005 C19.2498,15.1095 15.1088,19.2505 9.9998,19.2505 C4.8908,19.2505 0.7498,15.1095 0.7498,10.0005 C0.7498,4.8915 4.8908,0.7505 9.9998,0.7505 C15.1088,0.7505 19.2498,4.8915 19.2498,10.0005 Z"
                                                    id="Stroke-1"></path>
                                                <polyline id="Stroke-3"
                                                    points="13.4314 12.9429 9.6614 10.6939 9.6614 5.8469"></polyline>
                                            </g>
                                        </g>
                                    </svg>
                                </span>
                                <span class="mx-4 text-sm font-normal">
                                    Liste des rendez-vous
                                </span>
                            </a>
                            <a class="flex items-center justify-start w-full p-2 pl-6 my-2 text-gray-400 transition-colors duration-200 border-l-4 border-transparent hover:bg-sky-100"
                                href="{{ path('listPat') }}">
                                <span class="text-left">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"
                                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Iconly/Light/Folder" stroke="#000000" stroke-width="1.5" fill="none"
                                            fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
                                            <g id="Folder" transform="translate(1.500000, 1.500000)" stroke="#000000"
                                                stroke-width="1.5">
                                                <path
                                                    d="M19.9189,14.2321 C19.9189,17.8101 17.8099,19.9191 14.2319,19.9191 L6.4499,19.9191 C2.8629,19.9191 0.7499,17.8101 0.7499,14.2321 L0.7499,6.4321 C0.7499,2.8591 2.0639,0.7501 5.6429,0.7501 L7.6429,0.7501 C8.3609,0.7511 9.0369,1.0881 9.4669,1.6631 L10.3799,2.8771 C10.8119,3.4511 11.4879,3.7891 12.2059,3.7901 L15.0359,3.7901 C18.6229,3.7901 19.9469,5.6161 19.9469,9.2671 L19.9189,14.2321 Z"
                                                    id="Stroke-1"></path>
                                                <line x1="5.981" y1="12.963" x2="14.716" y2="12.963" id="Stroke-3">
                                                </line>
                                            </g>
                                        </g>
                                    </svg>
                                </span>
                                <span class="mx-4 text-sm font-normal">
                                    Liste des patients
                                </span>
                            </a>
                            <a class="flex items-center justify-start w-full p-2 pl-6 my-2 text-gray-400 transition-colors duration-200 border-l-4 border-transparent hover:bg-sky-100"
                                href="{{ path('app_logout') }}">
                                <span class="text-left">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"
                                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Iconly/Light/Logout" stroke="#000000" stroke-width="1.5" fill="none"
                                            fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
                                            <g id="Logout" transform="translate(2.000000, 2.000000)" stroke="#000000"
                                                stroke-width="1.5">
                                                <path
                                                    d="M13.016,5.3895 L13.016,4.4565 C13.016,2.4215 11.366,0.7715 9.331,0.7715 L4.456,0.7715 C2.422,0.7715 0.772,2.4215 0.772,4.4565 L0.772,15.5865 C0.772,17.6215 2.422,19.2715 4.456,19.2715 L9.341,19.2715 C11.37,19.2715 13.016,17.6265 13.016,15.5975 L13.016,14.6545"
                                                    id="Stroke-1"></path>
                                                <line x1="19.8095" y1="10.0214" x2="7.7685" y2="10.0214" id="Stroke-3">
                                                </line>
                                                <polyline id="Stroke-5"
                                                    points="16.8812 7.1063 19.8092 10.0213 16.8812 12.9373"></polyline>
                                            </g>
                                        </g>
                                    </svg>
                                </span>
                                <span class="mx-4 text-sm font-normal">
                                    Déconnexion </span>
                            </a>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="flex flex-col w-full md:space-y-4">
                <header class="z-40 flex items-center justify-between w-full h-16">
                    <div class="block ml-6 lg:hidden">
                        <button class="flex items-center p-2 text-gray-500 bg-white rounded-full shadow text-md">
                            <svg width="20" height="20" class="text-gray-400" fill="currentColor"
                                viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M1664 1344v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45z">
                                </path>
                            </svg>
                        </button>
                    </div>
                    <div class="relative z-20 flex flex-col justify-end h-full px-3 md:w-full">
                        <div class="relative flex items-center justify-end w-full p-1 space-x-4">
                            <button class="flex items-center text-sky-800 font-bold text-md">
                                Secretaire
                            </button>
                            <a href="#" class="relative block">
                                <img alt="profil" src="{{ asset('images/femme.jpg') }}"
                                    class="mx-auto object-cover rounded-full h-10 w-10 " />
                            </a>
                        </div>
                    </div>
                </header>
                <div class="h-screen px-4 pb-24 overflow-auto md:px-6">
                    <div class="flex justify-between items-center">
                        <h1 class="text-xl font-bold text-sky-950">
                            Liste des rendez-vous
                        </h1>
                    </div>
                    <div class="flex flex-col items-center w-full my-6 space-y-4 md:space-x-4 md:space-y-0 md:flex-row">
                        <div class="w-full md:w-full">
                            <div class="grid grid-cols-4 relative w-full overflow-hidden bg-white shadow-lg rounded-lg">
                                <div class="flex items-center justify-between px-4 py-6 space-x-4">

                                <form class="flex items-center w-full" method="POST">
                                    {{form_start(form)}}
                                        
                                        <div class="relative w-full">
                                            {{ form_widget(form.patient) }}
                                        </div>

                                        
                                    

                                </div>

                                <div class="flex items-center justify-between px-4 py-6 space-x-4">
                                        <div class="relative w-full">
                                            {{ form_widget(form.date)}}
                                        </div>

                                </div>

                                <div class="flex items-center justify-between px-4 py-6 space-x-4">

                                    
                                        <div class="relative w-full">
                                            {{ form_widget(form.time)}}
                                        </div>
                                </div>

                                
                                <div class="flex items-center justify-between px-4 py-6 space-x-4">
                                        <button type="submit"
                                            class="w-full inline-flex justify-center items-center py-2.5 px-3 ml-2 text-sm font-medium text-sky-950 bg-amber-400 rounded-lg hover:bg-amber-600">
                                            <svg class="mr-2" width="24px" height="24px" viewBox="0 0 24 24"
                                                version="1.1" xmlns="http://www.w3.org/2000/svg"
                                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                                <g id="Iconly/Light/Time-Circle" stroke="#000000" stroke-width="1.5"
                                                    fill="none" fill-rule="evenodd" stroke-linecap="round"
                                                    stroke-linejoin="round">
                                                    <g id="Time-Circle" transform="translate(2.000000, 2.000000)"
                                                        stroke="#000000" stroke-width="1.5">
                                                        <path
                                                            d="M19.2498,10.0005 C19.2498,15.1095 15.1088,19.2505 9.9998,19.2505 C4.8908,19.2505 0.7498,15.1095 0.7498,10.0005 C0.7498,4.8915 4.8908,0.7505 9.9998,0.7505 C15.1088,0.7505 19.2498,4.8915 19.2498,10.0005 Z"
                                                            id="Stroke-1"></path>
                                                        <polyline id="Stroke-3"
                                                            points="13.4314 12.9429 9.6614 10.6939 9.6614 5.8469">
                                                        </polyline>
                                                    </g>
                                                </g>
                                            </svg> Ajouter un rendez-vous
                                        </button>
                                            <br>
                                             {# Render field errors #}
                                            {% if form.date.vars.errors|length > 0 %}
                                                <ul class="error-list">
                                                    {% for error in form.date.vars.errors %}
                                                        <li>{{ error.message }}</li>
                                                    {% endfor %}
                                                </ul>
                                            {% endif %}


                                {{form_end(form)}}
                                </form>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 gap-4 my-4 md:grid-cols-1 lg:grid-cols-1">
                        <div class="w-full">
                            <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
                      <table class="w-full text-sm text-left text-gray-500">
                                    <thead class="text-xs text-sky-950 uppercase bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3">
                                                IdRdv
                                            </th>
                                            <th scope="col" class="px-6 py-3">
                                                Nom & Prénom
                                            </th>
                                            <th scope="col" class="px-6 py-3">
                                                Date
                                            </th>
                                            <th scope="col" class="px-6 py-3">
                                                Heure
                                            </th>
                                            <th scope="col" class="px-6 py-3">
                                                Status
                                            </th>
                                            <th scope="col" class="px-6 py-3">
                                                Consulté
                                            </th>
                                        </tr>
                                    </thead>
                                    
                                    <tbody>
                                    {% for rdv in r|reverse %}
                                        <tr class="bg-white border-b">
                                            <th scope="row"
                                                class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                                                {{ rdv.id }}
                                            </th>
                                            <th scope="row"
                                                class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                                                {{ rdv.patient.nom }}
                                                {{ rdv.patient.prenom }}
                                            </th>
                                            <td class="px-6 py-4">
                                                {{ rdv.date|date('Y-m-d') }}
                                            </td>
                                            <td class="px-6 py-4">
                                                {{ rdv.time|date('H:i:s') }}
                                            </td>
                                            <td class="flex items-center px-6 py-4 space-x-3">

                                                {%if not rdv.valid%}
                                                <a href="{{ path('makeValid', {'id': rdv.id}) }}"
                                                    class="rounded-md py-1 px-2 bg-emerald-100 font-medium text-emerald-600 hover:bg-green-200">Confirmer</a>
                                                {%else%}
                                                <p
                                                    class="rounded-md py-1 px-2 font-medium text-emerald-600">Confirmé</p>
                                                {%endif%}
                                                <a href="{{ path('delete_rdv', {'id': rdv.id}) }}"
                                                    class="rounded-md py-1 px-2 font-medium bg-red-100 text-red-600 hover:bg-red-200">Annuler</a>
                                            </td>
                                            <td class="px-6 py-4">
                                                {% if (rdv.consulted)%}
                                                    <svg aria-hidden="true" class="flex-shrink-0 w-5 h-5 text-green-600 " fill="currentColor"
                                                    viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                                    <title>Check icon</title>
                                                    <path fill-rule="evenodd"
                                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                                        clip-rule="evenodd"></path>
                                                    </svg>
                                                {%endif%}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

</body>

</html>